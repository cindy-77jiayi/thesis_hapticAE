# VAE config optimized for structured latent space (PCA-friendly)
# Key changes vs default:
#   - latent_dim: 64 → 32 (fewer dims = PCA captures more)
#   - beta_max: 0.0001 → 0.005 (stronger KL = more structured latent space)
#   - free_bits: 0.1 → 0.5 (prevent collapse while allowing structure)

seed: 42
model_type: vae
run_name: vae_structured

data:
  sr: 8000
  T: 4000
  scale: 0.25
  use_minmax: false
  train_split: 0.8

model:
  latent_dim: 32
  channels: [32, 64, 128, 128]
  first_kernel: 25
  kernel_size: 9
  activation: leaky_relu
  norm: group
  logvar_clip: [-10.0, 10.0]

training:
  batch_size: 32
  epochs: 150
  patience: 20
  min_delta: 0.0001
  early_stop_start: 10
  grad_clip: 1.0
  print_every: 10

optimizer:
  lr: 0.0002
  weight_decay: 0.00001

scheduler:
  factor: 0.5
  patience: 15

loss:
  l1_weight: 0.2
  spectral_weight: 0.15
  amplitude_weight: 0.5
  clamp_range: 3.0

kl:
  free_bits: 0.5
  beta_max: 0.005
  n_cycles: 4
  ratio: 0.5
